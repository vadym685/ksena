<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        caption="msg://editorCaption"
        focusComponent="form"
        messagesPack="com.company.ksena.web.screens.taskdocument">
    <data>
        <instance id="taskDocumentDc"
                  class="com.company.ksena.entity.task.TaskDocument"
                  view="taskDocument-view">
            <loader/>
            <collection id="inventoryDc" property="inventory"/>
            <collection id="cleaningMapDc" property="cleaningMap"/>
            <collection id="cleaningDayDc" property="cleaningDay"/>
        </instance>
    </data>
    <dialogMode height="600"
                width="800"/>
    <layout expand="editActions" spacing="true">
        <hbox width="100%">
            <groupBox id="dataBox" caption="msg://TaskDocumentData" spacing="true" width="100%">
                <form id="form" dataContainer="taskDocumentDc">
                <column width="250px">
                    <textField id="docNumberField" property="docNumber"/>
                    <dateField id="createDateField" property="createDate"/>
                    <dateField id="dateOfCompletionField" property="dateOfCompletion"/>
                    <checkBox id="isActiveField" property="isActive"/>
                    <pickerField id="companyField" property="company"/>
                    <textField id="delay" property="delay"/>
                    <pickerField id="pointField" property="point">
                        <actions>
                            <action id="lookup" type="picker_lookup"/>
                            <action id="clear" type="picker_clear"/>
                        </actions>
                    </pickerField>
                    <lookupField id="taskTypeField" property="taskType"/>
                    <lookupField id="typeOfPeriodicityField" property="typeOfPeriodicity" visible="false"/>
                    <textField id="periodicityField" property="periodicity" visible="false"/>
                    <lookupField id="typeOfCostFormationField" property="typeOfCostFormation"/>
                    <textField id="costPerHourField" property="costPerHour" visible="false"/>
                    <textField id="fullCostField" property="fullCost" visible="false"/>
                    <textField id="salaryElementaryField" property="salaryElementary"/>
                    <textField id="salaryHighField" property="salaryHigh"/>
                    <textField id="salaryMediumField" property="salaryMedium"/>

                </column>
            </form>
            </groupBox>
            <groupBox id="cleaningDayBox" caption="msg://com.company.ksena.entity.task/TaskDocument.cleaningDay"
                      align="TOP_LEFT" width="100%" visible="false">
                <table id="cleaningDayTable" dataContainer="cleaningDayDc" width="100%">
                    <actions>
                        <action id="add" type="add"/>
                        <action id="exclude" type="exclude"/>
                    </actions>
                    <buttonsPanel>
                        <button action="cleaningDayTable.add"/>
                        <button action="cleaningDayTable.exclude"/>
                    </buttonsPanel>
                    <columns>
                        <column id="nameDay"/>
                    </columns>
                </table>
            </groupBox>
        </hbox>

        <groupBox id="inventoryBox" caption="msg://com.company.ksena.entity.task/TaskDocument.inventory">
            <table id="inventoryTable" dataContainer="inventoryDc" width="100%"  align="TOP_RIGHT"
                   editable="true">
                <actions>
                    <action id="add" type="add"/>
                    <action id="exclude" type="exclude"/>
                </actions>
                <columns>
                    <column id="name"/>
                    <column id="description"/>
                    <column id="serialNumber"/>
                    <column id="colour"/>
                    <column id="quantityInventory" editable="true"/>
                    <column id="noteInventory" editable="true"/>
                </columns>
                <buttonsPanel>
                    <button id="inventoryTableAdd" action="inventoryTable.add"/>
                    <button action="inventoryTable.exclude"/>
                </buttonsPanel>
            </table>
        </groupBox>
        <groupBox id="cleaningMapBox" caption="msg://com.company.ksena.entity.task/TaskDocument.cleaningMap">
            <table id="cleaningMapTable" dataContainer="cleaningMapDc" width="100%"  align="TOP_CENTER"
                   editable="true">
                <actions>
                    <action id="add" type="add"/>
                    <action id="exclude" type="exclude"/>
                    <action id="excel" type="excel"/>
<!--                    <action id="list" type="listPrintForm" caption="Print"/>-->
                </actions>
                <columns>
                    <column id="priorityCleaningPosition"/>
                    <column id="name"/>
                    <column id="room" sort="ASCENDING"/>
                    <column id="description"/>
                    <column id="needTime"/>
                    <column id="price"/>
                    <column id="noteCleaningPosition" editable="true"/>
                </columns>
                <buttonsPanel>
                    <button action="cleaningMapTable.add"/>
                    <button action="cleaningMapTable.exclude"/>
                    <button invoke="cleaningMapPositionUp" caption="msg://cleaningMapPositionUp"/>
                    <button invoke="cleaningMapPositionDown" caption="msg://cleaningMapPositionDown"/>
                </buttonsPanel>
            </table>
        </groupBox>

        <hbox id="editActions" spacing="true">
            <button action="windowCommitAndClose"/>
            <button action="windowClose"/>
        </hbox>
    </layout>
</window>
